package edu.ucla.cs.cve.analysis;

import java.io.File;
import java.io.IOException;

import org.eclipse.jdt.core.dom.CompilationUnit;

public class FindPatchedJavaClasses {
	public static void main(String[] args) throws IOException {
		String rootPath = "/home/troy/ONR/CVE-Java-patches";
		File rootDir = new File(rootPath);
		for(File f : rootDir.listFiles()) {
			String id = f.getName();
			System.out.println("===" + id + "===");
			for(File javaFile : f.listFiles()) {
				CompilationUnit cu = ASTUtils.parse(javaFile);
				if(cu != null) {
					MyASTVisitor visitor = new MyASTVisitor();
					cu.accept(visitor);
					if(visitor.pkgName != null) {
						for(String cls : visitor.classNames) {
							System.out.println(visitor.pkgName + "." + cls);
						}
					}
				}
			}
		}
	}
}
